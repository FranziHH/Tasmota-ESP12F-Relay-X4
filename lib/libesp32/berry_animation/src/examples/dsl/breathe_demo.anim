# DSL version of the breathing effect
# Original: Complex Berry code with multiple objects and callbacks
# DSL: Simple declarative syntax that's easy to read and modify
#
# This recreates the same visual effect as animate_demo_breathe.be
# but with much cleaner, more readable syntax

strip length 25

# Define the same palette as original (black to red to orange)
palette fire_palette = [
  (0, #000000),    # black
  (136, #880000),  # red  
  (255, #FF5500)   # orange
]

# Create breathing effect with palette colors
# This replaces the complex animate.pulse + animate.palette + animate.oscillator setup
animation breathing = breathe(
  rich_palette(fire_palette, 3s, smooth, 255),
  150,     # base opacity
  3s,      # duration matches original
  loop
)

# Add brightness oscillation like original (50-255 range, cosine curve)
# This replaces the animate.oscillator(50, 255, duration, animate.COSINE) callback
breathing.opacity = smooth(50, 255, 3s)

# Start the animation
run breathing